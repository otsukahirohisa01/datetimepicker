{"version":3,"sources":["../src/js/datetimepicker.js"],"names":[],"mappings":"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","file":"datetimepicker.js","sourcesContent":["\nconst datetimepicker = ((element) => {\n\n  // Constants\n  const DAY_OF_WEEKS = [\n    \"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"\n  ];\n  const DATE = Symbol(); // KEY to bind Date object to date element\n\n  // Class Definition\n  class DateTimePicker {\n    constructor(element) {\n      // Private members\n      this._element = element;\n      this._calendarRootElm = null;\n      this._calendarTimeSelectorRootElm = null;\n      this._isDisplayed = false;\n      this._selectedDate = new Date();\n      this._locale = \"en-US\";\n      // Setup\n      this._setListeners();\n    }\n\n    // Private Functions\n    _setListeners() {\n      this._element.addEventListener('click', e => {\n        console.log(\"element clicked\");\n        if (this._isDisplayed === false) {\n          console.log(\"will call show\");\n          this._show();\n        } else {\n          console.log(\"will call hide\");\n          this._hide();\n        }\n        e.stopPropagation();  //TODO: Check more\n      });\n\n      //TODO: Check more\n      document.addEventListener('click', e => {\n        console.log(\"document clicked\");\n        if (e.currentTarget !== this._element && this._isDisplayed) {\n          console.log(\"will call hide\");\n          this._hide();\n        }\n      });\n    }\n\n    _show() {\n      this._calendarRootElm = this._getWidgetFragment();\n      this._element.appendChild(this._calendarRootElm);\n      this._isDisplayed = true;\n    }\n\n    _hide() {\n      this._element.removeChild(this._calendarRootElm);\n      this._calendarRootElm = null;\n      this._isDisplayed = false;\n    }\n\n    _update() {\n      this._element.removeChild(this._calendarRootElm);\n      this._calendarRootElm = this._getWidgetFragment();\n      this._element.appendChild(this._calendarRootElm);\n    }\n\n    _showTimeSelector() {\n      this._element.removeChild(this._calendarRootElm);\n      this._calendarRootElm = this._getTimeSelectorView();\n      this._element.appendChild(this._calendarRootElm);\n    }\n\n    // top level of calendar view\n    _getWidgetFragment() {\n      let calendarRootElm = document.createElement('div');\n      calendarRootElm.classList.toggle('dropdown-menu');\n      calendarRootElm.appendChild(this._getMonthSelectorElm());\n      let table = document.createElement('table');\n      table.classList.toggle('calendar-table');\n      table.appendChild(this._getCalenderHeaderElm());\n      table.appendChild(this._getCalendarBodyElm());\n      calendarRootElm.appendChild(table);\n      calendarRootElm.appendChild(this._getTimeSelectButton());\n      return calendarRootElm;\n    }\n\n    //TODO:\n    _getCalenderHeaderElm() {\n      // Day of weeks header\n      let dayOfWeeksTr = document.createElement('tr');\n      for (const dayOfWeek of DAY_OF_WEEKS) {\n        let dayOfWeekTh = document.createElement('th');\n        dayOfWeekTh.classList.toggle('day-of-weeks');\n        dayOfWeekTh.appendChild(document.createTextNode(dayOfWeek));\n        dayOfWeeksTr.appendChild(dayOfWeekTh);\n      }\n      // thead\n      let thead = document.createElement('thead');\n      thead.appendChild(dayOfWeeksTr);\n\n      // header fragment\n      let headerFragment = document.createDocumentFragment();\n      headerFragment.appendChild(thead);\n      return headerFragment;\n    }\n\n    _getMonthSelectorElm() {\n      // Previous month\n      let prev = document.createElement('span');\n      prev.classList.toggle('prev');\n      prev.addEventListener('click', e => {\n        this._selectedDate = new Date(this._selectedDate.getFullYear(), this._selectedDate.getMonth() - 1, this._selectedDate.getDate(), this._selectedDate.getHours(), this._selectedDate.getMinutes());\n        this._update();\n        e.stopPropagation();\n      })\n      prev.appendChild(document.createTextNode(\"<\"));\n\n      // This month\n      let month = document.createElement('span');\n      month.classList.toggle('month');\n      month.appendChild(document.createTextNode(new Intl.DateTimeFormat(this._locale, {month:'long', year: 'numeric'}).format(this._selectedDate)));\n      \n      // Next month\n      let next = document.createElement('span');\n      next.classList.toggle('next');\n      next.addEventListener('click', e => {\n        this._selectedDate = new Date(this._selectedDate.getFullYear(), this._selectedDate.getMonth() + 1, this._selectedDate.getDate(), this._selectedDate.getHours(), this._selectedDate.getMinutes());\n        this._update();\n        e.stopPropagation();\n      })\n      next.appendChild(document.createTextNode(\">\"));\n\n      // Block\n      let selectMonthTr = document.createElement('div');\n      selectMonthTr.classList.toggle('select-month-area');\n      selectMonthTr.appendChild(prev);\n      selectMonthTr.appendChild(month);\n      selectMonthTr.appendChild(next);\n      return selectMonthTr;\n    }\n\n    _getCalendarBodyElm() {\n      let datesArray = this._getCalendarDatesOf(this._selectedDate);\n      let calendarBody = document.createElement('tbody');\n      for (let i = 0; i < datesArray.length / 7; i++) {\n        let weekTr = document.createElement('tr');\n        for (let j = 1; j <= 7 && i*7+j < datesArray.length; j++) {\n          let weekTd = document.createElement('td');\n          weekTd.classList.toggle('day');\n          weekTd[DATE] = new Date(\n            this._selectedDate.getFullYear(),\n            this._selectedDate.getMonth(),\n            datesArray[i*7+j]\n          );\n          weekTd.addEventListener('click', e => {\n            let input = this._element.getElementsByTagName('input');\n            if (input.length != 0) {\n              this._selectedDate.setDate(e.currentTarget[DATE].getDate());\n              input[0].value = this._selectedDate;\n            } else {\n              console.error(\"Could not find any input element under the specified element to picker.\");\n            }\n            e.stopPropagation();\n          });\n          weekTd.appendChild(document.createTextNode(datesArray[i*7+j]));\n          weekTr.appendChild(weekTd);\n        }\n        calendarBody.appendChild(weekTr);\n      }\n      return calendarBody;\n    }\n\n    _getTimeSelectButton() {\n      let btn = document.createElement('button');\n      btn.appendChild(document.createTextNode(\"Select Time\"));\n      btn.classList.toggle('time-select-btn');\n      btn.addEventListener('click', e => {\n        this._showTimeSelector();\n        e.stopPropagation();\n      });\n      return btn;\n    }\n\n    // top level of time selector view\n    _getTimeSelectorView() {\n      let calendarRootElm = document.createElement('div');\n      calendarRootElm.classList.toggle('dropdown-menu');\n      calendarRootElm.appendChild(this._getDateSelectButton());\n      calendarRootElm.appendChild(this._getTimeSelectorViewMain());\n      return calendarRootElm;\n    }\n\n    _getDateSelectButton() {\n      let btn = document.createElement('button');\n      btn.appendChild(document.createTextNode(\"Select Date\"));\n      btn.classList.toggle('date-select-btn');\n      btn.addEventListener('click', e => {\n        this._update();\n        e.stopPropagation();\n      });\n      return btn;\n    }\n\n    _getTimeSelectorViewMain() {\n      let table = document.createElement('table');\n      let makeRow = (obj) => {\n        //Hour\n        let td_hour = document.createElement('td');\n        td_hour.appendChild(document.createTextNode(obj['str_hour']));\n        if (obj['id_hour']) { td_hour.id = obj['id_hour']; }\n        td_hour.classList.toggle('time-select-td');\n        if (obj['onclick_hour']) { td_hour.addEventListener('click', obj['onclick_hour']);}\n        //Separator\n        let td_sep = document.createElement('td');\n        td_sep.appendChild(document.createTextNode(obj['str_sep']));\n        td_sep.classList.toggle('time-select-td');\n        let td_min = document.createElement('td');\n        //Minute\n        td_min.appendChild(document.createTextNode(obj['str_min']));\n        if (obj['id_min']) { td_min.id = obj['id_min']; }\n        td_min.classList.toggle('time-select-td');\n        if (obj['onclick_min']) { td_min.addEventListener('click', obj['onclick_min']);}\n        //Append ALL\n        let tr = document.createElement('tr');\n        tr.appendChild(td_hour);\n        tr.appendChild(td_sep);\n        tr.appendChild(td_min);\n        return tr;\n      }\n\n      let tr1 = makeRow({str_hour: '↑', str_sep: \" \", str_min: \"↑\", onclick_hour: e => {\n        let hour = Number(document.getElementById('id-time-select-hour').textContent)\n        hour = (hour+1)%24;\n        document.getElementById('id-time-select-hour').textContent = (\"00\" + hour).substr(-2);\n        let input = this._element.getElementsByTagName('input');\n        if (input.length != 0) {\n          this._selectedDate.setHours(hour);\n          input[0].value = this._selectedDate;\n        } else {\n          console.error(\"Could not find any input element under the specified element to picker.\");\n        }\n        e.stopPropagation();\n      }, onclick_min: e => {\n        let min = Number(document.getElementById('id-time-select-min').textContent);\n        min = (min+1)%60;\n        document.getElementById('id-time-select-min').textContent = (\"00\" + min).substr(-2);\n        let input = this._element.getElementsByTagName('input');\n        if (input.length != 0) {\n          this._selectedDate.setMinutes(min);\n          input[0].value = this._selectedDate;\n        } else {\n          console.error(\"Could not find any input element under the specified element to picker.\");\n        }\n        e.stopPropagation();\n      }});\n\n      let tr2 = makeRow({str_hour: (\"00\" + this._selectedDate.getHours()).substr(-2), str_sep: \":\", str_min: (\"00\" + this._selectedDate.getMinutes()).substr(-2), id_hour: 'id-time-select-hour', id_min: 'id-time-select-min'});\n      \n      let tr3 = makeRow({str_hour: '↓', str_sep: \" \", str_min: \"↓\", onclick_hour: e => {\n        let hour = Number(document.getElementById('id-time-select-hour').textContent)\n        hour = hour-1 < 0 ? 23 : hour-1;\n        document.getElementById('id-time-select-hour').textContent = (\"00\" + hour).substr(-2);\n        let input = this._element.getElementsByTagName('input');\n        if (input.length != 0) {\n          this._selectedDate.setHours(hour);\n          input[0].value = this._selectedDate;\n        } else {\n          console.error(\"Could not find any input element under the specified element to picker.\");\n        }\n        e.stopPropagation();\n      }, onclick_min: e => {\n        let min = Number(document.getElementById('id-time-select-min').textContent);\n        min = min-1 < 0 ? 59: min-1;\n        document.getElementById('id-time-select-min').textContent = (\"00\" + min).substr(-2);\n        let input = this._element.getElementsByTagName('input');\n        if (input.length != 0) {\n          this._selectedDate.setMinutes(min);\n          input[0].value = this._selectedDate;\n        } else {\n          console.error(\"Could not find any input element under the specified element to picker.\");\n        }\n        e.stopPropagation();\n      }});\n  \n      table.appendChild(tr1);\n      table.appendChild(tr2);\n      table.appendChild(tr3);\n      table.classList.toggle('time-select-table');\n      return table;\n    }\n\n    //===\n    // Date utils\n    _getCalendarDatesOf(targetDate) {\n      var dayOfFirst = (new Date(targetDate.getFullYear(), targetDate.getMonth())).getDay();\n      var lastDateOfThisMonth = (new Date(targetDate.getFullYear(), targetDate.getMonth() + 1, 0)).getDate();\n      let n = dayOfFirst + lastDateOfThisMonth > 35 ? 42 : 35;\n      var arr = new Array(n);\n      for (var i = 1; i <= n; i++) {\n        if (i <= dayOfFirst) { // last month\n          arr[i] = \"\";\n        } else if (i > dayOfFirst + lastDateOfThisMonth) { // next month\n          arr[i] = \"\";\n        } else {\n          arr[i] = i - dayOfFirst;\n        }\n      }\n      return arr;\n    }\n  }\n\n  // Construct object\n  new DateTimePicker(element);\n});\n"]}